// Here you generate *JavaScript* that would be executed in the browser

const newCommentForm = document.getElementById('new_comment');
<% if @comment.errors.any? %>
  newCommentForm.innerHTML = "<%= j render 'comments/form', video: @video, comment: @comment %>";
<% else %>
  const comments = document.getElementById('comments');
  comments.insertAdjacentHTML("beforeend", "<%= j render 'comments/show', comment: @comment, user_id: @comment.user_id %>");
  newCommentForm.innerHTML = "<%= j render 'comments/form', video: @video, comment: Comment.new %>";
<% end %>
